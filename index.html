<script>
    function generateTrollLink() {
        const headlineInput = document.getElementById("headline").value;
        const imageUrlInput = document.getElementById("imageUrl").value;

        if (!headlineInput || !imageUrlInput) {
            alert("Please enter both a headline and an image URL.");
            return;
        }

        // ✅ Generate a URL-friendly slug
        const slug = headlineInput.toLowerCase().replace(/[^a-z0-9]+/g, "-").replace(/(^-|-$)/g, "");

        // ✅ Save the article to localStorage
        const articles = JSON.parse(localStorage.getItem("articles")) || {};
        articles[slug] = { headline: headlineInput, imageUrl: imageUrlInput };
        localStorage.setItem("articles", JSON.stringify(articles));

        // ✅ Display the generated link
        const shortUrl = `https://worlddailyreport.com/article/${slug}`;
        document.getElementById("generatedLink").innerHTML = `<a href="${shortUrl}" target="_blank">${shortUrl}</a>`;
    }
</script>
